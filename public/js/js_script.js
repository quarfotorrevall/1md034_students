function makeBurger(name, gluten, lactose, brief, image) {
    this.name = name;
    this.gluten = gluten;
    this.lactose = lactose;
    this.brief = brief;
    this.image = image;
}

function makeImage(id, src, alt, title, width) {
    this.id = id;
    this.src = src;
    this.alt = alt;
    this.title = title;
    this.width = width;
}

//yeah i'm too lazy to make 5 DIFFERENT objects
function generateMenu() {
    var p1 = new makeImage('americana', 'https://foremangrillrecipes.com/wp-content/uploads/2013/05/american-hamburger-foreman-grill.jpg', 'American hamburger', 'Americana', 203);
    var p2 = new makeImage('americana', 'https://foremangrillrecipes.com/wp-content/uploads/2013/05/american-hamburger-foreman-grill.jpg', 'American hamburger', 'Americana', 203);
    var p3 = new makeImage('americana', 'https://foremangrillrecipes.com/wp-content/uploads/2013/05/american-hamburger-foreman-grill.jpg', 'American hamburger', 'Americana', 203);
    var p4 = new makeImage('americana', 'https://foremangrillrecipes.com/wp-content/uploads/2013/05/american-hamburger-foreman-grill.jpg', 'American hamburger', 'Americana', 203);
    var p5 = new makeImage('americana', 'https://foremangrillrecipes.com/wp-content/uploads/2013/05/american-hamburger-foreman-grill.jpg', 'American hamburger', 'Americana', 203);
    
    var i1 = new makeBurger('Americana', true, true,
			   'Good old-fashioned american hamburger', p1);
    var i2 = new makeBurger('Americana', true, true,
			   'Good old-fashioned american hamburger', p1);
    var i3 = new makeBurger('Americana', true, true,
			   'Good old-fashioned american hamburger', p1);
    var i4 = new makeBurger('Americana', true, true,
			   'Good old-fashioned american hamburger', p1);
    var i5 = new makeBurger('Americana', true, true,
			   'Good old-fashioned american hamburger', p1);
    return [i1, i2, i3, i4, i5];
}

//To display a menu generated by generateMenu, uncomment the following
//line and replace all instances of 'menuItems' with 'generated'
//var generated = new generateMenu();

document.getElementById("grid").innerHTML = "";
var myElement = document.getElementById("grid");

for (var burger in menuItems)
{
    var titleNode = document.createElement("div");
    titleNode.classList.add("title");
    var checkBox = document.createElement("INPUT");
    checkBox.setAttribute("type", "checkbox");
    checkBox.id = menuItems[burger].name;
    var listValue = document.createTextNode(menuItems[burger].name);
    titleNode.appendChild(checkBox);
    titleNode.appendChild(listValue);
    myElement.appendChild(titleNode);
}

for (var entry in menuItems)
{
    var pictureNode = document.createElement("div");
    pictureNode.classList.add("pic");
    var image = document.createElement("IMG");
    image.id = menuItems[entry].image.id;
    image.src = menuItems[entry].image.src;
    image.alt = menuItems[entry].image.alt;
    image.title = menuItems[entry].image.title;
    image.width = menuItems[entry].image.width;
    pictureNode.appendChild(image);
    myElement.appendChild(pictureNode);
}

for (var allergens in menuItems)
{    
    var descNode = document.createElement("div");
    descNode.classList.add("desc");
    
    var unsortedList = document.createElement("ul");
    var listBrief = document.createElement("li");
    var brief = document.createTextNode(menuItems[allergens].brief);
    listBrief.appendChild(brief);
    unsortedList.appendChild(listBrief);
    
    if (menuItems[allergens].gluten || menuItems[allergens].lactose)
    {
	var listAllergen = document.createElement("li");
  	if (menuItems[allergens].gluten && menuItems[allergens].lactose)
	{
	    listAllergen.innerHTML = "Contains: <b>gluten, lactose</b>"
	}
	else if (menuItems[allergens].gluten)
	{
	    listAllergen.innerHTML = "Contains: <b>gluten, gluten</b>"
	}
	else
	{
	    listAllergen.innerHTML = "Contains: <b>lactose</b>"  
	}
	
	unsortedList.appendChild(listAllergen);
    }
    descNode.appendChild(unsortedList);
    myElement.appendChild(descNode);
}


function readData() {
    var name = document.getElementById('name').value;
    var email = document.getElementById('email').value;
    var street = document.getElementById('street').value;
    var house = document.getElementById('house').value;
    var payment = document.getElementById('payment').value;
    if (document.getElementById('male').checked) {
	var gender = document.getElementById('male').value;
    }
    else if (document.getElementById('female').checked) {
	var gender = document.getElementById('female').value;
    }
    else if (document.getElementById('confused').checked) {
	var gender = document.getElementById('confused').value;
    }
    else {
	var gender = document.getElementById('undisclosed').value;
    }

    return [name, email, street, house, payment, gender];
}

function readBurgers() {
    var string = '';
    if (document.getElementById('Americana').checked) {
	string = string + 'Americana';
    }
    if (document.getElementById('Tall Order').checked) {
	string = string + 'Tall Order ';
	console.log("eat shit");
	console.log(string);
    }
    if (document.getElementById('A Hamburger').checked) {
	string = string + 'A Hamburger ';
    }
    if (document.getElementById('This guy again').checked) {
	string = string + 'This guy again ';
    }
    if (document.getElementById('Really?').checked) {
	string = string + 'Really? ';
    }
    if (string == '') {
	string = "You didn't order anything! ";
    }
    return string;
}

var myButton = document.getElementById('button');

myButton.onclick = function() {
    console.log('Button clicked!');
    var list = new readData();
    var burgers = readBurgers();
    document.getElementById('order').innerHTML =
	'Your order: ' + burgers + 'Info: ' +
	list[0] + ', ' + list[1] + ', ' + list[2] +
	', ' + list[3] + ', ' + list[4] + ', ' + list[5];
	    
}

